backend:
  name: git-gateway
  branch: main # V√©rifiez que c'est bien "main" ou "master" sur GitHub

# --- CONFIGURATION CLOUDINARY (VOS CODES) ---
media_library:
  name: cloudinary
  config:
    cloud_name: "dkbulsjyo"
    api_key: "551519669678153"
    default_transformations:
      - [width: 1600, quality: "auto", fetch_format: "auto"]
      # ^ Cela force toutes les photos √† √™tre redimensionn√©es √† 1600px max

# Langue
locale: "fr"

collections:
  - name: "data"
    label: "Configuration"
    files:
      - name: "randos"
        label: "Mes Randonn√©es"
        label_singular: "Randonn√©e"
        file: "randos.json"
        summary: "{{fields.title}}" 
        fields:
          - label: "Liste des randonn√©es"
            name: "items"
            widget: "list"
            collapsed: false
            minimize_collapsed: true
            fields:
              # 1. Le Titre
              - label: "Titre de la sortie"
                name: "title"
                widget: "string"
                required: true

              # 2. Difficult√©
              - label: "Niveau de difficult√©"
                name: "difficulty"
                widget: "select"
                options: ["Facile", "Moyenne", "Difficile", "Expert"]
                default: "Moyenne"
                required: false

              # 3. Description (Format Riche)
              - label: "R√©cit de l'aventure"
                name: "description"
                widget: "markdown"
                buttons: ["bold", "italic", "link", "bulleted-list"]
                editor_components: []
                modes: ["rich_text"]
                required: true

              # 4. Fichier GPX
              - label: "Fichier GPX"
                name: "gpx"
                widget: "file"
                allowed_extensions: ["gpx"]
                required: true
                hint: "Le site lira automatiquement la date et la distance depuis ce fichier."

              # 5. Photos (VIA CLOUDINARY)
              - label: "Galerie Photos"
                name: "photos"
                widget: "image" 
                allow_multiple: true
                choose_url: false
                required: false
                hint: "üì∏ Cliquez pour ouvrir Cloudinary, glissez vos photos, et cliquez sur 'Insert'."